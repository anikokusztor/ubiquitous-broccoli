<!DOCTYPE html>
<html>

<head>
    <title>My experiment</title>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugin-html-keyboard-response.js"></script>
    <script src="jspsych/plugin-preload.js"></script>
    <script src="jspsych/plugin-instructions.js"></script>
    <script src="jspsych/plugin-image-slider-response-adjust.js"></script>
    <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
    <script src="jatos.js"></script>
</head>

<body></body>
<script>
    var jsPsych = initJsPsych({
        on_finish: function() {
            jsPsych.data.displayData();
        }
    });


    /*define welcome message trial */
    var welcome = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: 'Welcome to the experiment. Press any key to begin.'
    };


    var instuctions1 = {
        type: jsPsychInstructions,
        pages: ['<p style="font-size:20px; color:black;">Welcome!</p>',
            '<p>In this experiment, different images will appear in the center of the screen</p>',
            '<p>Please adjust the image to make it look like what you experience in your day-to-day life</p>',
        ],
        show_clickable_nav: true
    };

    /* preload images */
    var preload = {
        type: jsPsychPreload,
        images: ["stimuli/inside_143_1.0.png",
            "stimuli/inside_157_1.0.png",
            "stimuli/inside_171_1.0.png",
            "stimuli/inside_182_1.0.png",
            "stimuli/inside_190_1.0.png",
            "stimuli/outside_15_1.0.png",
            "stimuli/outside_17_1.0.png",
            "stimuli/outside_151_1.0.png",
            "stimuli/outside_173_1.0.png",
            "stimuli/outside_176_1.0.png"
        ]
    };

    /* define trial stimuli array for timeline variables */
    var test_stimuli = [{
        stimulus: "stimuli/inside_143_1.0.png"
    }, {
        stimulus: "stimuli/inside_157_1.0.png"
    }, {
        stimulus: "stimuli/inside_171_1.0.png"
    }, {
        stimulus: "stimuli/inside_182_1.0.png"
    }, {
        stimulus: "stimuli/inside_190_1.0.png"
    }, {
        stimulus: "stimuli/outside_15_1.0.png"
    }, {
        stimulus: "stimuli/outside_17_1.0.png"
    }, {
        stimulus: "stimuli/outside_151_1.0.png"
    }, {
        stimulus: "stimuli/outside_173_1.0.png"
    }, {
        stimulus: "stimuli/outside_176_1.0.png"
    }];

    /* slider */
    var imRate = {
        type: jsPsychImageSliderResponseAdjust,
        stimulus: jsPsych.timelineVariable('stimulus'),
        button_label: "Continue",
        min: 0,
        max: 300,
        slider_start: 100,
        step: 1,
        require_movement: true,
        prompt: "<p>Adjust the image until it looks real</p>",
        slider_width: 500,
        stimulus_width: 400,
        maintain_aspect_ratio: true,
        post_trial_gap: 0,
    };

    /* define test procedure */
    var test_procedure = {
        timeline: [imRate],
        timeline_variables: test_stimuli,
        randomize_order: true
    };

    jsPsych.run([welcome, instuctions1, preload, test_procedure]);
</script>

</html>